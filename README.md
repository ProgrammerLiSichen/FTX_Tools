# 天学网答案抓包工具使用说明

**开发者**：静默1099（时空悦动工作室-软件开发部）  
**版本号**：v1.0.0  
**程序依赖库**：Python默认内置库  
**方案软件环境**：Reqable（Wireshark可替代）+ Python + IDM

---

## ⚠️ 重要声明

**本软件仅支持在安全靶机环境下进行测试，仅供学习交流！严禁用于非法用途。**

---

## 一、环境安装与调试

### 1. Reqable网络抓包工具安装
- **官网地址**：[https://reqable.com](https://reqable.com)
- 根据程序指引完成安装，此步骤无特殊要求

### 2. Python环境配置
- **官方渠道**：[python.org](https://python.org)
- **国内镜像**：[华为云镜像源](https://mirrors.huaweicloud.com/python/)（推荐国内用户使用，无需VPN）
- **关键步骤**：安装时必须勾选"Add python.exe to PATH"选项

### 3. SSL证书配置与端口获取
1. 启动Reqable，选择"手动"模式安装SSL证书
2. 按照指引完成证书安装流程
3. 成功安装后界面示例如下：

![Reqable主界面](https://youke1.picui.cn/s1/2025/10/06/68e39423ddbbb.jpg)

4. **重要**：记录界面顶部显示的IP地址和端口信息

### 4. 天学网客户端代理设置
1. 打开天学网客户端，点击下拉箭头进入设置界面
2. 输入步骤3中记录的IP地址和端口号
3. 点击测试连接，确认显示连接成功

![代理设置界面](https://youke1.picui.cn/s1/2025/10/06/68e39423d0fd3.jpg)

---

## 二、数据爬取流程

### 操作步骤
1. **启动监控**：同时运行天学网和Reqable，点击Reqable右上角"启动"按钮
2. **触发请求**：在天学网中选择目标题目并点击"开始作答"
3. **停止捕获**：题目下载完成后，立即点击Reqable"停止"按钮
4. **URL筛选**：在日志记录中查找特定URL：
   - **选择题组**：查找包含"answer"字段的URL（前缀：`https://cdn-ws.up366.cn`）
   - **听力题组**：查找包含"Pc.zip"字段的URL（前缀：`https://cdn-ws.up366.cn`）
5. **资源下载**：复制目标URL到浏览器下载
   - **注意事项**：服务器可能拒绝非客户端请求，建议使用IDM等下载工具
6. **文件处理**：下载完成后解压zip文件到指定文件夹

---

## 三、数据解码流程

### 1. 听力题目解码
1. 打开Pc文件夹，选择数字最大的子文件夹
2. 将FTX工具包放置在questions同级目录下，如图：

![目录结构示意](https://youke1.picui.cn/s1/2025/10/06/68e39acd992fa.jpg)

3. 首先运行`jsload.bat`，按提示操作（通常直接按回车）
4. 将output文件夹中的所有文件复制到questions同级目录
5. 运行`jsload.py`，程序将显示答案内容

### 2. 选填题目解码
1. 打开解压后的文件夹
2. 运行FTX文件包中的`main.py`
3. 在目录中查找生成的txt文件，其中包含完整答案

---

## 四、注意事项

### 🛡️ 使用规范
- 本工具仅供学习交流，严禁用于非法用途
- 建议优先自主完成作业，本工具仅作参考辅助
- 使用前请进行答案核验，错误使用后果自负

### 🔧 技术说明
- **听力题目**：天学网加入混淆项，可能解码出其他题目答案
  - 解决方案：优先使用最大数字文件夹，如不匹配则尝试其他文件夹
- **文件对应**：
  - 选填题目：`main.py`
  - 听力题目：`jsload.bat`、`jsunlock.py`

### 📞 技术支持
- **问题反馈**：simpleservice@shikongyuedong.cn
- **版本更新**：请关注GitHub仓库获取最新工作流优化

---

## 版本更新日志
- v1.0.0：初始版本发布，支持基础抓包与解码功能
- 持续优化中，敬请关注GitHub页面获取最新信息
